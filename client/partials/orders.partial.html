<!-- <h1>Orders</h1> -->



<!-- {{ordersCtrl.users[0]}} -->
<!-- {{ordersCtrl.users}} -->

<!-- add new order -->
<br>

<script>
    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal
    btn.onclick = function() {
        modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

<button class="pull-right ; btn btn-danger" role="button" id="myBtn"><span class="glyphicon glyphicon-plus"> </button>
<!-- The Modal -->
<div id="myModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <span class="close">&times;</span>

<form>
    <h4>ADD NEW ORDER</h4>
    <br><br><br>
Customer: <select name ="newOrder.first_name" ng-model="newOrder.user_id">
	<option value ='{{user._id}}'ng-repeat="user in ordersCtrl.users">
		{{user.first_name}}
	</option>
	</select>
    <br><br>
Product: <select name ="newOrder.product_name" ng-model="newOrder.product_id">
		<option value = '{{product._id}}' ng-repeat="product in ordersCtrl.products">{{product.product_name}}
		</option>
	</select>
    <br><br>
    Quantity:
	<input type="number"  ng-model="newOrder.quantity">
    <br><br><br><br><br>
    <button onclick="sweetalertclick2()" class="btn btn-success" role="button" ng-click="ordersCtrl.add(newOrder)" type="submit"><span class="glyphicon glyphicon-saved"></button>
</form>
    </div>
</div>
<br><br><br>
<!-- end of add new order -->

<script src="node_modules/sweetalert2/dist/sweetalert2.all.min.js"></script>
<script>
    function sweetalertclick1(){
        swal("Canceled!", "", "success");
    }
    function sweetalertclick2(){
        swal("Order added successfully!", "", "success");
    }
</script>

<!-- show all orders -->

<!-- {{ordersCtrl.orders}} -->
<p class="pull-left">Filter Orders: <input type="text" ng-model="ordersCtrl.orders.order_filter" placeholder="filter..."></p><br>
<table class = "table; bg-success" style="width: 900px">

    <thead>
        <tr>
            <th>Customer Name</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>Date</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="order in ordersCtrl.orders | filter:ordersCtrl.orders.order_filter">
        <td><span ng-bind="order._user_id.first_name"></span></td>
        <td><span ng-bind="order._product_id.product_name"></span></td>
        <td><span ng-bind="order.quantity"></span></td>
        <td><span ng-bind="order.created_at | date: 'MMMM d yyyy'"></span></td>
        <td><button onclick="sweetalertclick1()" class="btn btn-danger" role="button"ng-click="ordersCtrl.remove(order)"><span class="glyphicon glyphicon-trash"></button></td>
        </tr>
    </tbody>
</table>

<!-- end of show all orders -->